{"version":3,"sources":["components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/ticketsstore-service.js","services/useFetch.js","components/ticket-cart-item/ticket-cart-item.js","components/ticket-cart-item/index.js","components/ticket-carts/index.js","components/ticket-carts/ticket-carts.js","components/number-of-transplants/index.js","components/number-of-transplants/number-of-transplants.js","components/filter-tickets/filter-tickets.js","components/filter-tickets/index.js","components/app/app.js","components/app/index.js","index.js"],"names":["ErrorIndicator","ErrorBoundry","state","hasError","this","setState","props","children","Component","BookstoreService","useState","searchId","setSearchId","tickets","setTickets","get","baseUrl","loading","setLoading","url","Promise","resolve","reject","fetch","then","response","json","data","catch","error","post","body","method","headers","JSON","stringify","useFetch","loadin","useEffect","Object","values","console","log","toZero","time","String","slice","getHoursAndMinuts","duration","date","timeDate","toFixed","hoursDate","minutesDate","hours","minutes","Number","parseInt","TicketCartItem","x","item","price","segments","destination","origin","stops","dateBack","destinationBack","durationBack","originBack","stopsBack","minutesBack","hoursBack","hoursDateBack","minutesDateBack","className","toString","replace","src","alt","toUpperCase","length","map","TicketsCarts","onlyTickets","filter","transplants","numberOfЕickets","setNumberOfЕickets","filterTransplants","sort","a","b","filterItems","ticketsForRender","index","onClick","prev","NumberOfTransplants","onTransplantsChenge","nameMas","box","name","label","classNames","includes","type","filterButtons","FilterTickets","onFilterChange","buttons","App","setFilter","setTransplants","TicketsService","setNameMas","entries","key","value","push","findIndex","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2bc5b581.chunk.js","sourcesContent":["import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return <div>Error!</div>;\n};\n\nexport default ErrorIndicator;\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundry extends Component {\n\n  state = {\n    hasError: false\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport {useState, useEffect} from 'react';\n\nimport useFetch from \"./useFetch\";\n\n\nfunction BookstoreService() {\n\n  const [searchId,setSearchId] = useState();\n  const [tickets ,setTickets ] = useState([]);\n  const {get} = useFetch('https://front-test.beta.aviasales.ru/');\n  const [loadin,setLoading] = useState(true);\n\n  useEffect(()=>{\n    get('search')\n    .then(data=> {\n      if(data){\n        setSearchId(Object.values(data));\n    }\n    })\n    .catch(error => console.log(error))\n  }, []);\n\n  useEffect(()=>{\n    if(searchId){\n      get(`tickets?searchId=${searchId}`)\n      .then(data=> {\n          setTickets(data);\n          setLoading(false);\n      })\n      .catch(error => console.log(error))\n    }\n  }, [searchId])\n  return {\n    tickets,\n    loadin\n  }\n}\n\nexport default BookstoreService;\n","import { useState } from \"react\";\r\n\r\nexport default function useFetch(baseUrl) {\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function get(url) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(baseUrl + url)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (!data) {\r\n            setLoading(false);\r\n            return reject(data);\r\n          }\r\n          setLoading(false);\r\n          resolve(data);\r\n        })\r\n        .catch(error => {\r\n          setLoading(false);\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  function post(url, body) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(baseUrl + url, {\r\n        method: \"post\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(body)\r\n      })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (!data) {\r\n            setLoading(false);\r\n            return reject(data);\r\n          }\r\n          setLoading(false);\r\n          resolve(data);\r\n        })\r\n        .catch(error => {\r\n          setLoading(false);\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  return { get, post, loading };\r\n};","import React from 'react';\r\n\r\nimport './ticket-cart-item.css' \r\n\r\nfunction toZero(time) {\r\n  time = !String(time).slice(1)  ? `0${time}`: time;\r\n  return time;\r\n}\r\n\r\nfunction numberWithSpaces(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n}\r\n\r\nfunction getHoursAndMinuts(duration,data) {\r\n  let date = data.slice(11,16)\r\n  let timeDate = (duration/60).toFixed(2);\r\n      let hoursDate = date.slice(0,2)\r\n      let minutesDate = date.slice(3)\r\n      let hours = timeDate.slice(0,2)\r\n      let minutes = timeDate.slice(3)\r\n\r\n      if(minutes>=60) {\r\n        minutes = minutes-60; \r\n        hours++\r\n      }\r\n      minutesDate = Number.parseInt(minutes,10) + Number.parseInt(minutesDate,10);\r\n      if (minutesDate>=60) {\r\n        minutesDate = minutesDate-60; \r\n        hoursDate++;\r\n      }\r\n      \r\n      hoursDate = Number.parseInt(hours,10) + Number.parseInt(hoursDate,10);\r\n      if(hoursDate>=24) {\r\n        hoursDate = hoursDate-24; \r\n      }\r\n      if(hours>=24) {\r\n        hours = hours-24; \r\n        \r\n      }\r\n      minutes = toZero(minutes);\r\n      hours = toZero(hours);\r\n      minutesDate = toZero(minutesDate);\r\n      hoursDate = toZero(hoursDate);\r\n   return {\r\n      minutes,\r\n      minutesDate,\r\n      hours,\r\n      hoursDate\r\n   }\r\n}\r\n\r\n\r\nexport default function  TicketCartItem({item}) {\r\n    const {price, segments} = item\r\n\r\n    const {date,destination,duration,origin,stops} = segments[0]\r\n    const {date: dateBack,destination: destinationBack,duration: durationBack,origin: originBack,stops : stopsBack} = segments[1]\r\n    \r\n    const {minutes,hours,hoursDate,minutesDate} = getHoursAndMinuts(duration,date)\r\n    const {minutes: minutesBack,hours: hoursBack,hoursDate: hoursDateBack,minutesDate: minutesDateBack} = getHoursAndMinuts(durationBack,dateBack)\r\n  \r\n  return (\r\n    <div className='ticket' key={price}>\r\n      <div className='ticket__head'>\r\n        <div className='ticket__price'>\r\n          {`${numberWithSpaces(price)} P`}\r\n        </div>\r\n        <div className='ticket__logo'>\r\n          <img src=\"./img/S7-Logo.png\" alt=\"S7 Logo\" />\r\n        </div>\r\n      </div>\r\n      <div className='ticket__body'>\r\n        <div className='ticket__body-there'>\r\n          <div className='ticket__origin'>\r\n            <div className='ticket__cities'>\r\n              {`${origin.toUpperCase()}-${destination.toUpperCase()}`}\r\n            </div>\r\n            <div className='ticket__departure'>\r\n              {`${date.slice(11,16).toUpperCase()}-${hoursDate}:${minutesDate}`}\r\n            </div>\r\n          </div>\r\n          <div className='ticket__duration'>\r\n            <div className='ticket__action'>\r\n              В ПУТИ\r\n            </div>\r\n            <div className='ticket__time'>\r\n              {`${hours}ч ${minutes}м`}\r\n            </div>\r\n          </div>\r\n          <div className='ticket__stops'>\r\n            <div className='ticket__number-of-transplants'>\r\n            {stops.length> 0 ? stops.length === 1 ?`${stops.length} ПЕРЕСАДКA`:`${stops.length} ПЕРЕСАДКИ`: null}\r\n            </div>\r\n            <div className='ticket__cities-transplants'>\r\n              {stops ? stops.map((item)=>{ return `${item} `}): null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='ticket__body-back'>\r\n          <div className='ticket__origin'>\r\n            <div className='ticket__cities'>\r\n            {`${originBack.toUpperCase()}-${destinationBack.toUpperCase()}`}\r\n            </div>\r\n            <div className='ticket__departure'>\r\n              {`${dateBack.slice(11,16).toUpperCase()}-${hoursDateBack}:${minutesDateBack}`}\r\n            </div>\r\n          </div>\r\n          <div className='ticket__duration'>\r\n            <div className='ticket__action'>\r\n              В ПУТИ\r\n            </div>\r\n            <div className='ticket__time'>\r\n              {`${hoursBack}ч ${minutesBack}м`}\r\n            </div>\r\n          </div>\r\n          <div className='ticket__stops'>\r\n            <div className='ticket__number-of-transplants'>\r\n              {stopsBack.length> 0 ? stopsBack.length === 1 ?`${stopsBack.length} ПЕРЕСАДКA`:`${stopsBack.length} ПЕРЕСАДКИ`: null}\r\n            </div>\r\n            <div className='ticket__cities-transplants'>\r\n              {stopsBack ? stopsBack.map((item)=>{ return `${item} `}): null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ); \r\n}\r\n","import TicketCartItem from './ticket-cart-item';\r\n\r\nexport default TicketCartItem;","import TicketsCarts from './ticket-carts';\r\n\r\nexport default TicketsCarts;","import React, {useState} from 'react';\r\nimport TicketCartItem from '../ticket-cart-item';\r\n\r\nimport './ticket-carts.css' \r\n\r\nexport default function  TicketsCarts({onlyTickets, filter,transplants}) {\r\n  const [numberOfЕickets, setNumberOfЕickets] = useState(5)\r\n  \r\n\r\n  function filterTransplants(transplants){\r\n    switch(transplants) {\r\n      case 'withoutTransfers': onlyTickets = onlyTickets.map(item=> {\r\n        return  item.filter((item)=> {\r\n          return item.segments[0].stops.length === 0;\r\n        });\r\n      }); \r\n        return;\r\n      case '1-Transfers':onlyTickets = onlyTickets.map(item=> {\r\n        return  item.filter((item)=> {\r\n          return item.segments[0].stops.length === 1;\r\n        });\r\n      });\r\n      return;\r\n      case '2-Transfers':onlyTickets = onlyTickets.map(item=> {\r\n        return  item.filter((item)=> {\r\n          return item.segments[0].stops.length === 2;\r\n        });\r\n      });\r\n        return;\r\n      case '3-Transfers':onlyTickets = onlyTickets.map(item=> {\r\n        return  item.filter((item)=> {\r\n          return item.segments[0].stops.length === 3;\r\n        });\r\n      });\r\n        return;\r\n      default: \r\n        return onlyTickets;\r\n    }\r\n    \r\n  }\r\n  \r\n  filterTransplants(transplants)\r\n\r\n  function filterItems(filter){\r\n    switch(filter) {\r\n      case 'cheap': onlyTickets = onlyTickets.map(item=> {\r\n        return  item.sort((a,b)=>a.price-b.price);\r\n      })\r\n        return ;\r\n      case 'fast': onlyTickets = onlyTickets.map(item=> {\r\n        return  item.sort((a,b)=>a.segments[0].duration-b.segments[0].duration);\r\n      }) \r\n        return;\r\n      default: \r\n        return onlyTickets;\r\n    }\r\n    \r\n  }\r\n\r\n  filterItems(filter)\r\n\r\n  let ticketsForRender = onlyTickets[0].filter((item,index) => {\r\n    if(index< numberOfЕickets )\r\n    {\r\n      return item;\r\n    }\r\n    return false;\r\n  })\r\n\r\n  function onCartMore() {\r\n    setNumberOfЕickets((prev)=>{return prev+5})\r\n  }\r\n  \r\n  return (\r\n    <div className='tickets-carts'>\r\n      {\r\n        ticketsForRender.map((item) => {\r\n          return <TicketCartItem item={item} />\r\n        })\r\n      }\r\n    <button className='btn-more' onClick={onCartMore}>ПОКАЗАТЬ ЕЩЕ 5 БИЛЕТОВ</button>\r\n    </div>\r\n  ); \r\n}\r\n","import NumberOfTransplants from './number-of-transplants';\r\n\r\nexport default NumberOfTransplants;","import React from 'react';\r\n\r\nimport './number-of-transplants.css' \r\n\r\nexport default function  NumberOfTransplants({onTransplantsChenge,nameMas}) {\r\n\r\n\r\n  const filterButtons = [\r\n    { name: 'all', label: 'Все'},\r\n    { name: 'withoutTransfers', label: 'Без пересадок'},\r\n    { name: '1-Transfers', label: '1 пересадка'},\r\n    { name: '2-Transfers', label: '2 пересадки'},\r\n    { name: '3-Transfers', label: '3 пересадки'}\r\n  ];\r\n\r\n\r\n    const box = filterButtons.map(({name, label}) => {\r\n      const isActive = nameMas.includes(name);\r\n      // console.log(nameMas)\r\n      const classNames = isActive ? 'label__box-active' :'label__box';\r\n      return (\r\n        <label className={classNames} key={name}><input\r\n                type=\"checkbox\"\r\n                name={name}\r\n                onClick={()=>onTransplantsChenge(name)}\r\n                /><span className=\"pseudocheckbox\">{label.toUpperCase()}</span></label>\r\n      );\r\n    });\r\n  \r\n    return (\r\n      <div className='numberOfTransplants'>\r\n      <div className='numberOfTransplants__head'>\r\n        КОЛИЧЕСТВО ПЕРЕСАДОК\r\n      </div>\r\n      <div className='numberOfTransplants__body'>\r\n          {box}\r\n      </div>\r\n    </div>); \r\n\r\n}\r\n  // return (\r\n  //   <div className='numberOfTransplants'>\r\n  //     <div className='numberOfTransplants__head'>\r\n  //       КОЛИЧЕСТВО ПЕРЕСАДОК\r\n  //     </div>\r\n  //     <div className='numberOfTransplants__body'>\r\n  //         <label><input type=\"radio\" value=\"all\" name=\"transplant\"/> Все </label>\r\n  //         <label><input type=\"radio\" value=\"NoTransfers\" name=\"transplant\" /> Без пересадок </label>\r\n  //         <label><input type=\"radio\" value=\"1transplant\" name=\"transplant\" /> 1 пересадка </label>\r\n  //         <label><input type=\"radio\" value=\"2transplant\" name=\"transplant\" /> 2 пересадки </label>\r\n  //         <label><input type=\"radio\" value=\"3transplant\" name=\"transplant\" /> 3 пересадки </label>\r\n  //     </div>\r\n  //   </div>); ","import React from 'react';\r\n\r\nimport './filter-tickets.css' \r\n\r\nconst filterButtons = [\r\n  { name: 'cheap', label: 'Самый дешевый' },\r\n  { name: 'fast', label: 'Самый быстрый' },\r\n\r\n];\r\n\r\nfunction  FilterTickets ({filter, onFilterChange}) {\r\n  const buttons = filterButtons.map(({name, label}) => {\r\n    const isActive = name === filter;\r\n    const classNames = isActive ? 'btn-active' : 'btn';\r\n    return (\r\n      <button key={name}\r\n              type=\"button\"\r\n              onClick={() => onFilterChange(name)}\r\n              className={classNames}>{label.toUpperCase()}</button>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"btn-group\">\r\n      { buttons }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterTickets;\r\n","import FilterTickets from './filter-tickets';\r\n\r\nexport default FilterTickets;","import React, {useState} from 'react';\r\nimport './app.css' \r\nimport TicketsService from \"../../services/ticketsstore-service\";\r\nimport TicketsCarts from \"../ticket-carts\";\r\nimport NumberOfTransplants from '../../components/number-of-transplants';\r\nimport FilterTickets from '../../components/filter-tickets';\r\n\r\nfunction  App() {\r\n  const [filter, setFilter] = useState();\r\n  const [transplants, setTransplants] = useState();\r\n  const {tickets, loadin} = TicketsService();\r\n  let onlyTickets = [];\r\n  let [nameMas, setNameMas] = useState([]);\r\n  function onFilterChange(filter)  {\r\n    setFilter(filter);\r\n  };\r\n\r\n  function onTransplantsChenge(name) {\r\n    \r\n    if(!nameMas.includes(name)){\r\n      setTransplants(name)\r\n      \r\n      setNameMas([...nameMas,name])\r\n      \r\n    } else {\r\n      let index = nameMas.findIndex(item => item === name)\r\n      setNameMas( [\r\n        ...nameMas.slice(0, index),\r\n        ...nameMas.slice(index + 1)\r\n      ]);\r\n    }\r\n  }\r\n  if(loadin) {\r\n    return null;\r\n  }\r\n  if(!loadin) {\r\n    for (let [key, value] of Object.entries(tickets)) {\r\n      if(key === 'tickets'){\r\n        onlyTickets.push(value);\r\n      }\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className='app'>\r\n      <img src=\"./img/Logo.png\" alt=\"Logo\" className='logo'/>\r\n      <div className='app__body'>\r\n          <NumberOfTransplants onTransplantsChenge={onTransplantsChenge} nameMas={nameMas}/>\r\n        <div className='container'>\r\n          <FilterTickets \r\n            filter={filter}\r\n            onFilterChange={onFilterChange} \r\n            />\r\n          <TicketsCarts onlyTickets={onlyTickets} filter={filter} transplants={transplants}/>\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import App from './app';\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css' \nimport ErrorBoundry from './components/error-boundry';\n\nimport App from './components/app';\n// import { BookstoreServiceProvider } from './components/bookstore-service-context';\n\n\n// const bookstoreService = new BookstoreService();\n\nReactDOM.render(\n    <ErrorBoundry>\n        <App />\n    </ErrorBoundry>,\n    document.getElementById('root')\n);"],"sourceRoot":""}